<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>extra.js – Tiny HTML-first reactivity state & extra</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="extra.js"></script>
  <script src="code-window.js" defer></script>
</head>

<body class="bg-black">

  <main class="max-w-3xl mx-auto p-4 space-y-4">


    <img src="./images/extra-js-logo.png" class="h-20">

    <h1 class="text-4xl font-bold mb-4">Code Window Demo</h1>

    <div class="bg-slate-900 rounded-3xl p-6 shadow-xl border-slate-800 border">
      <div class="text-xl bg-slate-800/50 rounded-lg px-4 py-2 inline-block mr-2 text-white">Count: ((count))</div>
      <button x-on:click="x.store.count++" class="bg-emerald-500 rounded-lg px-5 py-2.5 mr-1 text-white">+</button>
      <button x-on:click="x.store.count--" class="bg-rose-500 rounded-lg px-5 py-2.5 text-white">-</button>
    </div>

    <div>
      <code-window filename="reactive count and bind" language="html">
        &lt;div&gt;Count: &#40;&#8203;&#40;count&#41;&#8203;&#41;&lt;/div&gt;
        &lt;button x-on:click="x.store.count++"&gt;+&lt;/button&gt;
        &lt;button x-on:click="x.store.count--"&gt;-&lt;/button&gt;
      </code-window>
    </div>

    <div class="bg-slate-900 rounded-3xl p-6 shadow-xl text-white border-slate-800 border">
      <h1 class="text-xl font-semibold">((title))</h1>
      <p>((content))</p>
    </div>

    <div>
      <code-window filename="js set state and bind" language="html" class="mb-2">
        &lt;h1&gt;&#40;&#8203;&#40;title&#41;&#8203;&#41;&lt;/h1&gt;
        &lt;p&gt;&#40;&#8203;&#40;content&#41;&#8203;&#41;&lt;/p&gt;

        &lt;script&gt;
        &emsp;&emsp;x.store.title = "Hello Extra.js"
        &emsp;&emsp;x.store.content = "Welcome to extra.js code window demo!"
        &lt;/script&gt;
      </code-window>
    </div>

    <div class="bg-slate-900 rounded-3xl p-6 shadow-xl text-white border-slate-800 border">
      <ul x-for="product in products">
        <li class="list-disc ml-6">((product.name)) - $((product.price))</li>
      </ul>

      <button x-on:click="x.store.products.push({name: 'New Product', price: 10.00})"
        class="bg-emerald-500 rounded-lg px-5 py-2.5 mr-1 text-white mt-3">+ New Product</button>
    </div>

    <div>
      <code-window filename="loop & push state array" language="html">
        &lt;ul x-for="product in products"&gt;
        &emsp;&emsp;&lt;li&gt;&#40;&#8203;&#40;product.name&#41;&#8203;&#41;&nbsp;-&nbsp;$&#40;&#8203;&#40;product.price&#41;&#8203;&#41;&lt;/li&gt;
        &lt;/ul&gt;

        &lt;button x-on:click="x.store.products.push({name: 'New Product', price: 10.00})"&gt;
        &emsp;&emsp;+&nbsp;New&nbsp;Product
        &lt;/button&gt;

        &lt;script&gt;
        &emsp;&emsp;x.store.products = [
        &emsp;&emsp;&emsp;&emsp;{ name: "Product 1", price: 29.99 },
        &emsp;&emsp;&emsp;&emsp;{ name: "Product 2", price: 49.99 },
        &emsp;&emsp;]
        &lt;/script&gt;
      </code-window>
    </div>

    <div class="bg-slate-900 rounded-3xl p-6 shadow-xl text-white border-slate-800 border">
      <div class="text-xl bg-slate-800/50 rounded-lg px-4 py-2 mb-2 text-white">
        <div>Count: ((count))</div>
        <div>Double: ((countDouble))</div>
      </div>
      <button x-on:click="x.store.count++" class="bg-emerald-500 rounded-lg px-5 py-2.5 mr-1 text-white">+</button>
      <button x-on:click="x.store.count--" class="bg-rose-500 rounded-lg px-5 py-2.5 text-white">-</button>
      <div class="text-white/50 text-xs mt-3">
        * x.watch is on see console.log
      </div>
    </div>

    <div>
      <code-window filename="computed and watch" language="html">
        &lt;div&gt;
        &emsp;&emsp;Count: (​(count)​)
        &emsp;&emsp;Double: (​(countDouble)​)
        &lt;/div&gt;

        &lt;button x-on:click="x.store.count++"&gt;+&lt;/button&gt;
        &lt;button x-on:click="x.store.count--"&gt;-&lt;/button&gt;

        &lt;script&gt;
        &emsp;&emsp;x.store.count = 0

        &emsp;&emsp;x.computed("countDouble", () => x.store.count * 2)

        &emsp;&emsp;x.watch("count", (nv, ov) => {
        &emsp;&emsp;&emsp;&emsp;console.log("count changed:", ov, "→", nv)
        &emsp;&emsp;})
        &lt;/script&gt;
      </code-window>
    </div>

    <div class="bg-slate-900 rounded-3xl p-6 shadow-xl text-white border-slate-800 border">
      <div id="remoteContent" x-load="remote.html">
        Loading...
      </div>
      <button x-load="remote.html" x-load:target="#remoteContent" x-load:on="click"
        class="bg-emerald-500 rounded-lg px-4 py-2 mt-3 text-white">
        Open Page (onclick)
      </button>
    </div>

    <div>
      <code-window filename="x-load" language="html">
        &lt;div x-load="remote.html" x-load:target="#remoteContent" &gt;
        &emsp;&emsp;Load Page (onload)
        &lt;/div&gt;

        &lt;button x-load="remote.html" x-load:target="#remoteContent" x-load:on="click"&gt;
        &emsp;&emsp;Open Page (onclick)
        &lt;/buttin&gt;
      </code-window>
    </div>

    <script>
      x.store.count = x.store.count ? x.store.count : 5
      x.store.title = x.store.title ? x.store.title : "Hello Extra.js"
      x.store.content = x.store.content ? x.store.content : "Welcome to extra.js code window demo!"
      x.store.products = x.store.products ? x.store.products : [
        { name: "Product 1", price: 29.99 },
        { name: "Product 2", price: 49.99 },
      ]

      x.computed("countDouble", () => x.store.count * 2)

      x.watch("count", (nv, ov) => {
        console.log("count changed:", ov, "→", nv)
      })
    </script>
  </main>
</body>

</html>
